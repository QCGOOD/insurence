<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>Title</title>
    <link rel="stylesheet" href="css/project.css">
    <script src="js/libs/jquery-3.0.0.min.js"></script>
    <script src="js/libs/jquery-weui.min.js"></script>
    <script src="js/libs/vue2.0.js"></script>
    <script src="js/project.js"></script>
    <style>
        body{background-color: #f2f3f8;padding-top: 45px;}

        .accordion{margin-top: 10px;}
        /* checkbox */
        .weui_cells_checkbox.weui_cells:after{display: none;}

        /* 可点击链接 */
        .s-link{  font-size:15px;color: #007de2;text-decoration: underline;  }
    </style>
</head>
<body>
<div id="app">

    <!-- 头部 -->
    <header class="fixed_top">
        <div class="header_left back">
            <i class="iconfont icon-back"></i>
        </div>
        <div class="header_title">保单信息确认</div>
    </header>

    <!--<div style="font-size: 20px;color: #333;line-height: 65px;text-align: center;">
        一年综合意外险
    </div>-->

    <!-- 手风琴 -->
    <ul id="accordion" class="accordion">
        <li class="dropdown show">
            <div data-toggle="dropdown">投保信息<i class="iconfont icon-fangxiangshang"></i></div>
            <div class="dropdown-menu">
                <div class="weui_cells ">
                    <div class="s-link" style="position:absolute;right:15px;top:15px;">修改信息</div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">保险起期:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{product.policyStartTime}}</div>
                    </div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">保险止期:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{product.policyEndTime}}</div>
                    </div>
                    <div class="weui_cell border-bottom ">
                        <div class="weui_cell_hd">保期:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{product.policyDay}}</div>
                    </div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">被保人姓名:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{protectedPerson.insurantName}}</div>
                    </div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">性别:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{protectedPerson.insurantGender}}</div>
                    </div>

                    <div class="weui_cell">
                        <div class="weui_cell_hd">身份证号:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{protectedPerson.insurantCardNo}}</div>
                    </div>
                    <div class="weui_cell  ">
                        <div class="weui_cell_hd">出身日期:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{protectedPerson.insurantBirthday}}</div>
                    </div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">学校:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{protectedPerson.schoolName}}</div>
                    </div>
                    <div class="weui_cell border-bottom">
                        <div class="weui_cell_hd">班级:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{protectedPerson.insurantClass}}</div>
                    </div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">投保人姓名:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{payProtectedPerson.holderName}}</div>
                    </div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">手机:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{payProtectedPerson.holderPhone}}</div>
                    </div>
                    <div class="weui_cell">
                        <div class="weui_cell_hd">身份证号:</div>
                        <div class="weui_cell_hd">身份证号:</div>
                        <div class="weui_cell_bd weui_cell_primary">{{payProtectedPerson.holderCardNo}}</div>
                    </div>
                </div>
            </div>
        </li>
        <li class="dropdown">
            <div data-toggle="dropdown">保障内容<i class="iconfont icon-fangxiangshang"></i></div>

            <ul class="submenu dropdown-menu">
                保险条款...此处省略1000字
            </ul>
        </li>
    </ul>

    <!-- checkbox -->
    <div class="weui_cells weui_cells_checkbox" style="margin-top:0;background-color: transparent; ">
        <label class="weui_cell weui_check_label" for="s11">
            <div class="weui_cell_hd" >
                <input type="checkbox" class="weui_check" name="checkbox1" id="s11" v-model="hasRead">
                <i class="weui_icon_checked_primary"></i>
            </div>
            <div class="weui_cell_bd weui_cell_primary">
                <p style="font-size: 15px;color: #333;">我已阅读并同意<a href="#" class="s-link">投保申明</a></p>
            </div>
        </label>
    </div>

    <div style="font-size: 13px;color: #8a90af;text-align: center;margin: 30px 10px 0px;">保费<span style="font-size: 30px;color: #333;">￥{{product.amount}}</span></div>
    <div style="font-size: 13px;color: #8a90af;text-align: center;">(保费计算公式):{{product.formula}}</div>
    <a onclick="pay()" class="weui_btn" style="margin: 20px 15px;">立即支付</a>

</div>
<script>
    var vm = new Vue({
        el: '#app',
        data: function () {
            return {
                schoolName:'',
                /* 保险产品 */
                product: {
                    productTitle:"Z-100A",
                    amount:100,
                    num:223456,
                    productId:"xx12345678910xx",
                    policyStartTime:"2016-09-01",
                    policyEndTime:"2017-08-31",
                    policyDay:"365天",
                    formula:"69元/365天*100天"
                },
                /* 被保人 */
                protectedPerson:{
                    insurantName:'彭生',
                    insurantGender:'男',
                    insurantCardNo:'420187199211035032',
                    insurantClass:'三年级 1班',
                    insurantBirthday:'1992-01-01'
                },
                /* 投保人 */
                payProtectedPerson:{
                    holderName:'彭生',
                    holderPhone:'18825144569',
                    holderCardNo:''
                },
                hasRead:false
            }
        },
        methods: {},
        created: function () {
            /* 获取保险信息 */
            $.get('./data/order.json', function (data) {
                vm.schoolName = data.schoolName;
                vm.product = data.product;
                vm.protectedPerson = data.protectedPerson;
                vm.payProtectedPerson = data.payProtectedPerson;

                console.log(data);
            })
        }
    });

    /* 支付 */
    function pay() {
        $.alert(' 支付成功！您已成功购买一年期综合意外险，详情请查看"我的保单"', '温馨提示',function () {
             window.location.href = 'page4-myInsurence.html';
        })
    }
</script>

</body>
</html>